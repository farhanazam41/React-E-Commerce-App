{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nimport cookie from 'js-cookie';\nimport Router from 'next/router';\nexport function handleLogin(token) {\n  cookie.set('token', token);\n  Router.push('/account');\n}\nexport function redirectUser(ctx, location) {\n  if (ctx.req) {\n    ctx.res.writeHead(302, {\n      Location: location\n    });\n    ctx.res.end();\n  } else {\n    Router.push(location);\n  }\n}\nexport function handleLogout() {\n  cookie.remove('token');\n  window.localStorage.setItem('logout', _Date$now());\n  Router.push('/login');\n}","map":{"version":3,"sources":["C:\\Users\\farha\\Desktop\\reacttest\\utils\\auth.js"],"names":["cookie","Router","handleLogin","token","set","push","redirectUser","ctx","location","req","res","writeHead","Location","end","handleLogout","remove","window","localStorage","setItem"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA2B;AAC/BH,EAAAA,MAAM,CAACI,GAAP,CAAW,OAAX,EAAoBD,KAApB;AACAF,EAAAA,MAAM,CAACI,IAAP,CAAY,UAAZ;AAEF;AAED,OAAO,SAASC,YAAT,CAAsBC,GAAtB,EAA2BC,QAA3B,EAAoC;AACxC,MAAGD,GAAG,CAACE,GAAP,EAAW;AACRF,IAAAA,GAAG,CAACG,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,MAAAA,QAAQ,EAAEJ;AAAZ,KAAvB;AACAD,IAAAA,GAAG,CAACG,GAAJ,CAAQG,GAAR;AACF,GAHD,MAGM;AACHZ,IAAAA,MAAM,CAACI,IAAP,CAAYG,QAAZ;AACF;AACH;AAED,OAAO,SAASM,YAAT,GAAuB;AAC3Bd,EAAAA,MAAM,CAACe,MAAP,CAAc,OAAd;AACAC,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsC,WAAtC;AACAjB,EAAAA,MAAM,CAACI,IAAP,CAAY,QAAZ;AACF","sourcesContent":["import cookie from 'js-cookie';\r\nimport Router from 'next/router';\r\n\r\nexport function handleLogin(token){\r\n   cookie.set('token', token);\r\n   Router.push('/account');\r\n\r\n}\r\n\r\nexport function redirectUser(ctx, location){\r\n   if(ctx.req){\r\n      ctx.res.writeHead(302, { Location: location})\r\n      ctx.res.end();\r\n   }else {\r\n      Router.push(location);\r\n   }\r\n}\r\n\r\nexport function handleLogout(){\r\n   cookie.remove('token');\r\n   window.localStorage.setItem('logout', Date.now())\r\n   Router.push('/login');\r\n}"]},"metadata":{},"sourceType":"module"}